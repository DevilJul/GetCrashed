<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="cobi.js"></script>
    <script src="crashed.js"></script>
    <script src="Tinkerforge.js"></script>
    <script>
        let HOST = '172.16.1.104';
        let PORT = 4280;
        let UID = '6QGaJa'; // Change XXYYZZ to the UID of your Servo Brick

        let ipcon = new Tinkerforge.IPConnection(); // Create IP connection
        let servo = new Tinkerforge.BrickServo(UID, ipcon); // Create device object

        ipcon.connect(HOST, PORT,
            function (error) {
                console.log('Error: ' + error);
            }
        ); // Connect to brickd
        // Don't use device before ipcon is connected

        ipcon.on(Tinkerforge.IPConnection.CALLBACK_CONNECTED,
            function (connectReason) {
                // Configure two servos with voltage 5.5V
                // Servo 1: Connected to port 0, period of 19.5ms, pulse width of 1 to 2ms
                //          and operating angle -100 to 100°
                //
                // Servo 2: Connected to port 5, period of 20ms, pulse width of 0.95
                //          to 1.95ms and operating angle -90 to 90°
                servo.setOutputVoltage(5500);

                servo.setDegree(0, -10000, 10000);
                servo.setPulseWidth(0, 1000, 2000);
                servo.setPeriod(0, 19500);
                servo.setAcceleration(0, 65535); // Slow acceleration
                servo.setVelocity(0, 65535); // Full speed

                servo.setDegree(5, -9000, 9000);
                servo.setPulseWidth(5, 950, 1950);
                servo.setPeriod(5, 20000);
                servo.setAcceleration(5, 65535); // Full acceleration
                servo.setVelocity(5, 65535); // Full speed

                servo.setPosition(0, 10000); // Set to most right position
                servo.enable(0);

                servo.setPosition(0, -9000); // Set to most left position
                servo.enable(5);
            }
        );
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<h1 id="txtSimCrash" style="display: none">You Fucktard crashed!</h1>
<input id="btnSimCrash" type="button" value="Sim Crash" onclick="setCrashed()">
<progress value="66" max="100"></progress>
</body>
</html>