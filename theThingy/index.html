<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">


    <title>Title</title>
    <script src="cobi.js"></script>
    <script src="crashed.js"></script>
    <script src="Tinkerforge.js"></script>
    <script src="jquery-3.3.1.min.js"></script>
    <script>
        let HOST = '172.16.1.104';
        let PORT = 4280;
        let UID = '6QGaJa'; // Change XXYYZZ to the UID of your Servo Brick

        let ipcon = new Tinkerforge.IPConnection(); // Create IP connection
        let servo = new Tinkerforge.BrickServo(UID, ipcon); // Create device object

        ipcon.connect(HOST, PORT,
            function (error) {
                console.log('Error: ' + error);
            }
        ); // Connect to brickd
        // Don't use device before ipcon is connected

        ipcon.on(Tinkerforge.IPConnection.CALLBACK_CONNECTED,
            function (connectReason) {
                servo.setOutputVoltage(5500);

                servo.setDegree(0, -10000, 10000);
                servo.setPulseWidth(0, 1000, 2000);
                servo.setPeriod(0, 19500);
                servo.setAcceleration(0, 65535); // Slow acceleration
                servo.setVelocity(0, 65535); // Full speed

                servo.setDegree(5, -9000, 9000);
                servo.setPulseWidth(5, 950, 1950);
                servo.setPeriod(5, 20000);
                servo.setAcceleration(5, 65535); // Full acceleration
                servo.setVelocity(5, 65535); // Full speed

                servo.setPosition(0, 10000); // Set to most right position
                servo.enable(0);

                servo.setPosition(0, -9000); // Set to most left position
                servo.enable(5);
            }
        );
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="screen_cycler">
    <h1>Happy cycling</h1>
    <img src="img/cycler_animated.gif" />
</div>

<div id="screen_crash" style="display:none;">
    <img src="img/crash.jpg" />
    <button id="break_emergency" onclick="hideCrashScreen()">Break emergency notification</button>
    <progress id="progressStop" value="360" max="360" style="display: none"></progress>
    <button id="call_emergency" onclick="emergencyCall()" >Call emergency now</button>
</div>

<div id="screen_notification" style="display: none">
    <h1>Notify emergency contact</h1>
    <i>Send message to 110: <div id="emergency_notes"></div> </i>
</div>

<!--<h1 id="txtSimCrash" style="display: none">You Fucktard crashed!</h1>
<input id="btnSimCrash" type="button" value="Sim Crash" onclick="crash()">-->


<div id="fancycrash">
</div>

<div id="accelX"></div>
<div id="accelY"></div>
<div id="accelZ"></div>
<div id="accelGX"></div>
<div id="accelGY"></div>
<div id="accelGZ"></div>
<div id="stability"></div>
<div id ="lastPossibleCrashTstamp"></div>
<div id="crash"></div>
<div id="titlted"></div>
</body>
</html>